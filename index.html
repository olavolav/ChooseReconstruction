<html>
  <head>
    <title>Choose the network reconstruction method that's best for you</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="choice_tree.css" type="text/css" />
  </head>
  
  <body>
    <header>
      <h1>Dear neuroscientist, choose your reconstruction method</h1>
      <p>Finding the right tool to analyze structural connectivity can be tough, since there are so many out there. We can help, though!</p>
      <p>Here are the criteria. Click on one to restrict your search:
        <ul id='criteria'>
          <!-- list is generated dynamically -->
        </ul>
        <div id='filterstats'>
          Please specify your criteria.
        </div>
      </p>
    </header>
    
    <ul id='choice_tree'>
      <!-- list is generated dynamically -->
    </ul>
    
    <footer>
      There are currently no methods listed. (Please enable JavaScript to use this app.)
      <!-- number is updated dynamically -->
    </footer>
    
    <script type="text/template" id="category-template">
      <ul class="filter-btn-group">
        <% var c_name = "filter-btn-neutral-inactive"; %>
        <% if(filter_value===0) { c_name = "filter-btn-neutral-active"; } %>
        <li class="filter-btn <%= c_name %>" data-id='0'>-</li>
        <% c_name = "filter-btn-yes-inactive"; %>
        <% if(filter_value===1) { c_name = "filter-btn-yes-active"; } %>
        <li class="filter-btn <%= c_name %>" data-id='1'>&#x2713;</li>
        <% c_name = "filter-btn-no-inactive"; %>
        <% if(filter_value===-1) { c_name = "filter-btn-no-active"; } %>
        <li class="filter-btn <%= c_name %>" data-id='-1'>x</li>
      </ul>
      <%= name %>
    </script>

    <script type="text/template" id="method-template">
      <h2><%= name %> <span class="verified_symbol" style="display:none">⚐</span></h2>
      
      <ul class="properties"><%= properties_list %></ul>
      <p class="references">➥ <a class="reference_link" href="<%= reference_url %>">reference</a></p>
    </script>
    
    <script type="text/template" id="filterstats-template">
      There
      <% if(nr == 1) { %>
        is 1 method that matches
      <% } else { %>
        are <%= nr %> methods that match
      <% } %>
      your criteria.
    </script>
    
    <script type="text/template" id="stats-template">
      Note that the information of methods marked with the flag symbol ⚐ has been verified by the authors of the paper shown as reference.<br/>
      There are currently <%= nr %> methods listed. Want to add your own? Please do <a href="mailto:olav@nld.ds.mpg.de">contact us</a>.
    </script>
    
    <!-- <script type="text/javascript" src="jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="underscore-min.js"></script>
    <script type="text/javascript" src="backbone-min.js"></script>
    <script type="text/javascript" src="choice_tree.js"></script> -->
    <script type="text/javascript" src="choice_tree.min.js"></script>
    
    
    <script type="text/javascript">
      var methods = new app.ReconstructionMethodList();

      // declare reconstruction methods and their features
      methods.add( new app.ReconstructionMethod({name: "Cross-Correlation", properties: {
          "can work with single cell resolution" : true,
          "can work with calcium fluorescence data" : true,
          "can work with macro scale resolution" : true,
          "can work with fMRI data" : true
        },
        reference_url : 'http://en.wikipedia.org/wiki/Correlation_and_dependence'
      }));
      methods.add( new app.ReconstructionMethod({name: "Mutual Information", properties: {
          "can work with single cell resolution" : true,
          "non-linear" : true,
          "model-free" : true,
          "can work with spike data" : true,
          "can work with macro scale resolution" : true,
          "can work with fMRI data" : true
        },
        reference_url : 'http://en.wikipedia.org/wiki/Mutual_information'
      }));
      methods.add( new app.ReconstructionMethod({name: "Granger Causality", properties: {
          "can work with single cell resolution" : true,
          "can work with macro scale resolution" : true,
          "can work with fMRI data" : true
        },
        reference_url : 'http://en.wikipedia.org/wiki/Correlation_and_dependence'
      }));
      methods.add( new app.ReconstructionMethod({name: "Transfer Entropy", properties: {
          "non-linear" : true,
          "can work with single cell resolution" : true,
          "can work with macro scale resolution" : true,
          "model-free" : true,
          "can work with spike data" : true
        },
        reference_url : 'http://prl.aps.org/abstract/PRL/v85/i2/p461_1'
      }));
      methods.add( new app.ReconstructionMethod({name: "Generalized Transfer Entropy", properties: {
          "non-linear" : true,
          "can work with single cell resolution" : true,
          "can work with calcium fluorescence data" : true,
          "model-free" : true,
          "can work with spike data": true
        },
        reference_url : 'http://www.ploscompbiol.org/article/info:doi/10.1371/journal.pcbi.1002653',
        verified_by_author : true
      }));
      methods.add( new app.ReconstructionMethod({name: "Bayesian Inference", properties: {
          "non-linear" : true,
          "can work with single cell resolution" : true,
          "can work with calcium fluorescence data" : true
        },
        reference_url : 'http://projecteuclid.org/DPubS?service=UI&version=1.0&verb=Display&handle=euclid.aoas/1310562720'
      }));
      methods.add( new app.ReconstructionMethod({name: "Anatomical Reconstruction of Cells", properties: {
          "can work with single cell resolution" : true,
          "can work with anatomical data" : true,
          "model-free" : true
        },
        reference_url : 'http://www.springerlink.com/index/10.1007/s10827-012-0390-z'
      }));
      methods.add( new app.ReconstructionMethod({name: "Tensor Diffusion Imaging", properties: {
          "can work with anatomical data" : true,
          "can work with macro scale resolution" : true
        },
        reference_url : 'http://www.pnas.org/content/109/28/11372.short'
      }));
      methods.add( new app.ReconstructionMethod({name: "Patch Clamp", properties: {
          "can work with single cell resolution" : true,
          "yields the ground truth, no approximation" : true
        },
        reference_url : 'http://www.annualreviews.org/doi/pdf/10.1146/annurev.ph.46.030184.002323'
      }));
      methods.add( new app.ReconstructionMethod({name: "Generalized Linear Model", properties: {
          "can work with single cell resolution" : true,
          "non-linear" : true,
          "can work with spike data": true
        },
        reference_url : 'http://www.nature.com/nature/journal/v454/n7207/abs/nature07140.html'
      }));
      methods.add( new app.ReconstructionMethod({name: "Dynamical Cascades", properties: {
          "can work with single cell resolution" : true,
          "non-linear" : true,
          "can work with spike data": true
        },
        reference_url : 'http://www.ploscompbiol.org/article/info%3Adoi%2F10.1371%2Fjournal.pcbi.1000271'
      }));
      methods.add( new app.ReconstructionMethod({name: "Dynamical Causal Modeling", properties: {
          "non-linear" : true,
          "can work with macro scale resolution" : true,
          "can work with fMRI data" : true
        },
        reference_url : 'http://www.sciencedirect.com/science/article/pii/S1053811903002027'
      }));

      var filters = new app.FilterList();
      filters.generate_from_method_collection(methods);

      // start app
      var app = new app.AppView(methods, filters);
    </script>
  </body>
</html>